{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<h4 class="fw-bold mb-4 text-primary"><i class="la la-home me-2"></i>Dashboard Overview</h4>

<div class="row g-4">
    <!-- Tasks -->
    <div class="col-md-4 col-lg-3">
        <div class="card shadow-sm border-0 rounded-4 h-100"
            style="background: linear-gradient(135deg, #007bff, #0056b3); color: white;">
            <div class="card-body d-flex align-items-center justify-content-between">
                <div>
                    <p class="mb-1 fw-semibold">Tasks</p>
                    <h3 class="fw-bold">{{ task_count }}</h3>
                </div>
                <i class="la la-list la-3x opacity-75"></i>
            </div>
        </div>
    </div>

    <!-- Notes -->
    <div class="col-md-4 col-lg-3">
        <div class="card shadow-sm border-0 rounded-4 h-100"
            style="background: linear-gradient(135deg, #6610f2, #4b0ec5); color: white;">
            <div class="card-body d-flex align-items-center justify-content-between">
                <div>
                    <p class="mb-1 fw-semibold">Notes</p>
                    <h3 class="fw-bold">{{ note_count }}</h3>
                </div>
                <i class="la la-copy la-3x opacity-75"></i>
            </div>
        </div>
    </div>

    <!-- Categories -->
    <div class="col-md-4 col-lg-3">
        <div class="card shadow-sm border-0 rounded-4 h-100"
            style="background: linear-gradient(135deg, #198754, #0d6e3f); color: white;">
            <div class="card-body d-flex align-items-center justify-content-between">
                <div>
                    <p class="mb-1 fw-semibold">Categories</p>
                    <h3 class="fw-bold">{{ category_count }}</h3>
                </div>
                <i class="la la-tags la-3x opacity-75"></i>
            </div>
        </div>
    </div>

    <!-- Subtasks -->
    <div class="col-md-4 col-lg-3">
        <div class="card shadow-sm border-0 rounded-4 h-100"
            style="background: linear-gradient(135deg, #fd7e14, #cc660a); color: white;">
            <div class="card-body d-flex align-items-center justify-content-between">
                <div>
                    <p class="mb-1 fw-semibold">Subtasks</p>
                    <h3 class="fw-bold">{{ subtask_count }}</h3>
                </div>
                <i class="la la-tasks la-3x opacity-75"></i>
            </div>
        </div>
    </div>

    <!-- Priorities -->
    <div class="col-md-4 col-lg-3">
        <div class="card shadow-sm border-0 rounded-4 h-100"
            style="background: linear-gradient(135deg, #dc3545, #a71d2a); color: white;">
            <div class="card-body d-flex align-items-center justify-content-between">
                <div>
                    <p class="mb-1 fw-semibold">Priorities</p>
                    <h3 class="fw-bold">{{ priority_count }}</h3>
                </div>
                <i class="la la-flag la-3x opacity-75"></i>
            </div>
        </div>
    </div>
</div>

<!-- Recent Tasks and Notes -->
<div class="row mt-5 g-4">
    <!-- Recent Tasks -->
    <div class="col-md-8">
        <div class="card border-0 shadow-sm rounded-4 h-100">
            <div class="card-body">
                <h5 class="fw-bold mb-3 text-primary"><i class="la la-clock me-2"></i>Recent Tasks</h5>
                {% if recent_tasks %}
                <ul class="list-group list-group-flush">
                    {% for task in recent_tasks %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>{{ task.title }}</span>
                        <span class="badge bg-info text-dark">{{ task.status }}</span>
                    </li>
                    {% endfor %}
                </ul>
                {% else %}
                <p class="text-muted mb-0">No recent tasks available.</p>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Recent Notes -->
    <div class="col-md-4">
        <div class="card border-0 shadow-sm rounded-4 h-100">
            <div class="card-body">
                <h5 class="fw-bold mb-3 text-primary"><i class="la la-sticky-note me-2"></i>Recent Notes</h5>
                {% if recent_notes %}
                <ul class="list-group list-group-flush">
                    {% for note in recent_notes %}
                    <li class="list-group-item">{{ note.content|truncatechars:60 }}</li>
                    {% endfor %}
                </ul>
                {% else %}
                <p class="text-muted mb-0">No recent notes available.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- About section -->
<div class="card border-0 shadow-sm mt-5 rounded-4">
    <div class="card-body">
        <h5 class="fw-bold mb-3 text-primary"><i class="la la-info-circle me-2"></i>About Hangarin</h5>
        <p class="text-muted fs-6">
            <strong>Hangarin</strong> is a simple yet powerful Task Management System designed to help users
            organize their workload efficiently. It lets you categorize tasks, assign priorities, manage subtasks,
            and attach notes — all in one intuitive dashboard. Whether you’re a student, team leader, or project
            planner, Hangarin helps keep your goals structured and achievable.
        </p>
    </div>
</div>
{% endblock %}